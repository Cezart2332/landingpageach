document.addEventListener("DOMContentLoaded",function(){try{const e=document.getElementById("phone-video"),t=document.querySelector(".nav-toggle"),o=document.querySelector(".hero-buttons"),n=document.querySelector(".nav-menu"),r=document.querySelectorAll(".nav-link"),s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),a="ontouchstart"in window||navigator.maxTouchPoints>0,i=window.innerWidth>1024,c=!s&&i,l=s&&window.innerWidth<=1024,d=c;console.log("Universal Device Detection:",{isMobile:s,isTouch:a,isLargeScreen:i,isDesktopDevice:c,useMobileScroll:l,useUniversalScroll:d,userAgent:navigator.userAgent,maxTouchPoints:navigator.maxTouchPoints,windowWidth:window.innerWidth});const p=document.querySelectorAll("section, footer");let u=!1,m=0,f=!1;let y=0,h=0,b=0,g=50,v=300,x=1e3,w=0;function smoothScrollTo(e,t=1e3){const o=window.pageYOffset,n=e-o,r=performance.now();requestAnimationFrame(function animation(e){const s=e-r,a=Math.min(s/t,1),i=(c=a)<.5?4*c*c*c:(c-1)*(2*c-2)*(2*c-2)+1;var c;window.scrollTo(0,o+n*i),a<1?requestAnimationFrame(animation):u=!1})}function updateIndicators(){document.querySelectorAll(".section-indicator").forEach((e,t)=>{t===m?(e.style.backgroundColor="rgba(139, 92, 246, 1)",e.style.transform="scale(1.2)"):(e.style.backgroundColor="rgba(139, 92, 246, 0.3)",e.style.transform="scale(1)")})}function scrollToSection(e){if(e>=0&&e<p.length&&!u){u=!0,m=e,updateIndicators();smoothScrollTo(p[e].offsetTop+(0===e?-20:0),800)}}function scrollToSectionMobile(e){if(e>=0&&e<p.length&&!u){u=!0,m=e,updateIndicators();const t=p[e].offsetTop,o=window.pageYOffset,n=t-o,r=600,s=performance.now();requestAnimationFrame(function animateScroll(e){const t=e-s,a=Math.min(t/r,1),i=(c=a,1-Math.pow(1-c,3));var c;window.scrollTo(0,o+n*i),a<1?requestAnimationFrame(animateScroll):u=!1})}}if(l&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.addEventListener("touchmove",function(e){e.target.closest(".phone-video")||e.preventDefault()},{passive:!1}),document.addEventListener("wheel",function(e){e.preventDefault()},{passive:!1}),document.addEventListener("touchstart",function(e){e.target.closest(".phone-video")||e.target.closest(".popup-overlay")||(y=e.touches[0].clientY,b=Date.now())},{passive:!0}),document.addEventListener("touchend",function(e){if(e.target.closest(".phone-video")||e.target.closest(".popup-overlay"))return;const t=Date.now();h=e.changedTouches[0].clientY;Math.abs(y-h)>g&&t-b<v&&t-w>x&&!u&&(w=t,scrollToSectionMobile(y>h?m+1:m-1))},{passive:!0}),document.addEventListener("touchmove",function(e){if(e.target.closest(".phone-video")||e.target.closest(".popup-overlay"))return;const t=e.touches[0].clientY,o=Date.now();if(Math.abs(y-t)>30&&o-b<150&&!u){o-w>x&&(w=o,scrollToSectionMobile(y>t?m+1:m-1))}},{passive:!0})),d){let A=!1,D=0;const Y=600;document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden";const handleWheelEvent=e=>{const t=Date.now();if(A)return e.preventDefault(),e.stopPropagation(),!1;if(t-D<Y)return e.preventDefault(),e.stopPropagation(),!1;const o=e.deltaY;if(Math.abs(o)>.5){D=t,A=!0;const n=document.querySelector("#footer");if(n){const t=n.getBoundingClientRect();if(t.top<=0&&t.bottom>=window.innerHeight&&o>0)return A=!1,e.preventDefault(),e.stopPropagation(),!1}scrollToSection(o>0?m+1:m-1),setTimeout(()=>{A=!1},800)}return e.preventDefault(),e.stopPropagation(),!1};window.addEventListener("wheel",handleWheelEvent,{passive:!1,capture:!0}),document.addEventListener("wheel",handleWheelEvent,{passive:!1,capture:!0}),window.addEventListener("mousewheel",handleWheelEvent,{passive:!1,capture:!0}),window.addEventListener("DOMMouseScroll",handleWheelEvent,{passive:!1,capture:!0});const handleKeyDown=e=>{if(!A)if("ArrowDown"===e.key||"PageDown"===e.key){const t=Date.now();t-D>=Y&&(D=t,A=!0,scrollToSection(m+1),setTimeout(()=>{A=!1},800),e.preventDefault(),e.stopPropagation())}else if("ArrowUp"===e.key||"PageUp"===e.key){const t=Date.now();t-D>=Y&&(D=t,A=!0,scrollToSection(m-1),setTimeout(()=>{A=!1},800),e.preventDefault(),e.stopPropagation())}};window.addEventListener("keydown",handleKeyDown,{capture:!0}),document.body.style.touchAction="none",document.documentElement.style.touchAction="none",console.log("Universal scroll system initialized - simple approach")}setTimeout(()=>{!function(){const e=document.querySelectorAll(".text-reveal");if(e.length>0){let t=0;e.forEach((e,o)=>{const n=e.textContent;e.innerHTML="",e.classList.add("animate"),n.split("").map((e,o)=>{const n=document.createElement("span");return n.className="char",n.textContent=" "===e?" ":e,n.style.animationDelay=`${t+40*o}ms`,n}).forEach(t=>e.appendChild(t)),t+=40*n.length+200})}}()},400);const E=document.querySelector(".hero-subtitle");E&&(E.style.opacity="0",E.style.transform="translateY(30px)",E.style.transition="all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{E.style.opacity="1",E.style.transform="translateY(0)"},2200)),o&&(o.style.opacity="0",o.style.transform="translateY(30px)",o.style.transition="all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{o.style.opacity="1",o.style.transform="translateY(0)"},2600));const k=document.createElement("div");let S;k.className="section-indicators",k.style.position="fixed",k.style.right="20px",k.style.top="50%",k.style.transform="translateY(-50%)",k.style.zIndex="1000",k.style.display="flex",k.style.flexDirection="column",k.style.gap="10px",p.forEach((e,t)=>{const o=document.createElement("div");o.className="section-indicator",o.style.width="10px",o.style.height="10px",o.style.borderRadius="50%",o.style.backgroundColor="rgba(139, 92, 246, 0.3)",o.style.cursor="pointer",o.style.transition="all 0.3s ease",o.setAttribute("data-section",e.id||`section-${t}`),o.addEventListener("click",()=>{u||(s?scrollToSectionMobile(t):scrollToSection(t))}),k.appendChild(o)}),document.body.appendChild(k),updateIndicators(),window.addEventListener("scroll",()=>{clearTimeout(S),S=setTimeout(()=>{if(!u){window.scrollY;p.forEach((e,t)=>{const o=e.getBoundingClientRect();o.top>=-100&&o.top<=100&&(m=t,updateIndicators())})}},50)}),t.addEventListener("click",function(){n.classList.toggle("active");t.querySelectorAll(".bar").forEach(e=>e.classList.toggle("active"))}),r.forEach(e=>{e.addEventListener("click",function(){n.classList.remove("active");t.querySelectorAll(".bar").forEach(e=>e.classList.remove("active"))})}),r.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),o=document.querySelector(t);if(o){const e=70;if("#home"===t)u=!0,smoothScrollTo(0,800),m=0,updateIndicators();else if("#footer"===t){u=!0,smoothScrollTo(document.documentElement.scrollHeight,800);const e=Array.from(p).indexOf(o);-1!==e&&(m=e,updateIndicators())}else{const t=o.offsetTop;u=!0,smoothScrollTo(t-e,800);const n=Array.from(p).indexOf(o);-1!==n&&(m=n,updateIndicators())}}})});const L=document.querySelector(".navbar");window.addEventListener("scroll",function(){window.scrollY>50?L.style.background="rgba(15, 15, 15, 0.98)":L.style.background="rgba(15, 15, 15, 0.95)"});const T=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".feature-card, .about-text, .mystery-box").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",T.observe(e)}),window.addEventListener("scroll",function(){const e=window.pageYOffset,t=document.querySelector(".hero"),o=.5*e;t&&(t.style.transform=`translateY(${o}px)`)});document.querySelectorAll(".card").forEach((e,t)=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-15px) scale(1.05)",this.style.zIndex="10"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0) scale(1)",this.style.zIndex="1"})});function showDownloadPopup(){document.querySelectorAll(".popup-overlay").forEach(e=>e.remove());const e=document.createElement("div");e.className="popup-overlay",e.style.cssText="\n        position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n        background-color: rgba(0, 0, 0, 0.8); z-index: 10000;\n        display: flex; align-items: center; justify-content: center;\n        backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.3s ease;\n      ";const t=document.createElement("div");function closePopup(){e.style.opacity="0",t.style.transform="scale(0.8) translateY(20px)",setTimeout(()=>document.body.removeChild(e),300)}t.className="popup-content",t.style.cssText="\n        background: linear-gradient(145deg, #1a1a1a, rgba(26, 26, 26, 0.95));\n        border: 1px solid #6b46c1; border-radius: 25px; padding: 40px 30px;\n        text-align: center; max-width: 400px; width: 90%;\n        box-shadow: 0 20px 60px rgba(139, 92, 246, 0.4);\n        transform: scale(0.8) translateY(20px);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      ",t.innerHTML='\n        <div style="margin-bottom: 25px;">\n          <i class="fas fa-rocket" style="font-size: 3rem; color: #6b46c1; margin-bottom: 20px; display: block;"></i>\n          <h3 style="color: #ffffff; margin-bottom: 15px; font-size: 1.5rem; font-weight: 600;">Aplicația nu este încă lansată</h3>\n          <p style="color: #b3b3b3; font-size: 1.1rem; line-height: 1.6; margin-bottom: 25px;">Fii pe fază, ne vom vedea curând!</p>\n        </div>\n        <button class="popup-close-btn" style="\n          background: linear-gradient(135deg, #6b46c1, #7c3aed); color: white; border: none;\n          border-radius: 15px; padding: 12px 30px; font-size: 1rem; font-weight: 600;\n          cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);\n        ">\n          <i class="fas fa-check" style="margin-right: 8px;"></i>\n          Înțeles!\n        </button>\n      ',t.querySelector(".popup-close-btn").addEventListener("click",closePopup),e.addEventListener("click",t=>t.target===e&&closePopup()),document.addEventListener("keydown",function escHandler(e){"Escape"===e.key&&(closePopup(),document.removeEventListener("keydown",escHandler))}),e.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1",t.style.transform="scale(1) translateY(0)"},10)}document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-2px)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)"})}),setTimeout(function(){if(f)return;const e=document.querySelector(".hero-buttons");if(e){const t=e.querySelectorAll("button");t.length>=2&&(t[0].addEventListener("click",e=>{e.preventDefault(),function(){document.querySelectorAll(".popup-overlay").forEach(e=>e.remove());const e=document.createElement("div");e.className="popup-overlay",e.style.cssText="\n        position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n        background-color: rgba(0, 0, 0, 0.8); z-index: 10000;\n        display: flex; align-items: center; justify-content: center;\n        backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.3s ease;\n      ";const t=document.createElement("div");function closePopup(){e.style.opacity="0",t.style.transform="scale(0.8) translateY(20px)",setTimeout(()=>document.body.removeChild(e),300)}t.className="popup-content",t.style.cssText="\n        background: linear-gradient(145deg, #1a1a1a, rgba(26, 26, 26, 0.95));\n        border: 1px solid #6b46c1; border-radius: 25px; padding: 40px 30px;\n        text-align: center; max-width: 400px; width: 90%;\n        box-shadow: 0 20px 60px rgba(139, 92, 246, 0.4);\n        transform: scale(0.8) translateY(20px);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      ",t.innerHTML='\n        <div style="margin-bottom: 25px;">\n          <i class="fas fa-wrench" style="font-size: 3rem; color: #6b46c1; margin-bottom: 20px; display: block;"></i>\n          <h3 style="color: #ffffff; margin-bottom: 15px; font-size: 1.5rem; font-weight: 600;">Funcționalitate în dezvoltare</h3>\n          <p style="color: #b3b3b3; font-size: 1.1rem; line-height: 1.6; margin-bottom: 25px;">Această funcționalitate este încă în dezvoltare</p>\n        </div>\n        <button class="popup-close-btn" style="\n          background: linear-gradient(135deg, #6b46c1, #7c3aed); color: white; border: none;\n          border-radius: 15px; padding: 12px 30px; font-size: 1rem; font-weight: 600;\n          cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);\n        ">\n          <i class="fas fa-check" style="margin-right: 8px;"></i>\n          Înțeles!\n        </button>\n      ',t.querySelector(".popup-close-btn").addEventListener("click",closePopup),e.addEventListener("click",t=>t.target===e&&closePopup()),document.addEventListener("keydown",function escHandler(e){"Escape"===e.key&&(closePopup(),document.removeEventListener("keydown",escHandler))}),e.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1",t.style.transform="scale(1) translateY(0)"},10)}()}),t[1].addEventListener("click",e=>{e.preventDefault(),showDownloadPopup()}))}const t=document.querySelector(".cta");if(t){const e=t.querySelector(".cta-buttons");e&&e.querySelectorAll("button").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.textContent.trim().toLowerCase();o.includes("descarcă")||o.includes("download")?showDownloadPopup():(o.includes("acces")||o.includes("anticipat"))&&function(){document.querySelectorAll(".popup-overlay").forEach(e=>e.remove());const e=document.createElement("div");e.className="popup-overlay",e.style.cssText="\n        position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n        background-color: rgba(0, 0, 0, 0.8); z-index: 10000;\n        display: flex; align-items: center; justify-content: center;\n        backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.3s ease;\n      ";const t=document.createElement("div");function closePopup(){e.style.opacity="0",t.style.transform="scale(0.8) translateY(20px)",setTimeout(()=>document.body.removeChild(e),300)}t.className="popup-content",t.style.cssText="\n        background: linear-gradient(145deg, #1a1a1a, rgba(26, 26, 26, 0.95));\n        border: 1px solid #6b46c1; border-radius: 25px; padding: 40px 30px;\n        text-align: center; max-width: 400px; width: 90%;\n        box-shadow: 0 20px 60px rgba(139, 92, 246, 0.4);\n        transform: scale(0.8) translateY(20px);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      ",t.innerHTML='\n        <div style="margin-bottom: 25px;">\n          <i class="fas fa-clock" style="font-size: 3rem; color: #6b46c1; margin-bottom: 20px; display: block;"></i>\n          <h3 style="color: #ffffff; margin-bottom: 15px; font-size: 1.5rem; font-weight: 600;">Aplicația nu este încă lansată</h3>\n          <p style="color: #b3b3b3; font-size: 1.1rem; line-height: 1.6; margin-bottom: 25px;">Fii pe fază, ne vom vedea curând!</p>\n        </div>\n        <button class="popup-close-btn" style="\n          background: linear-gradient(135deg, #6b46c1, #7c3aed); color: white; border: none;\n          border-radius: 15px; padding: 12px 30px; font-size: 1rem; font-weight: 600;\n          cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);\n        ">\n          <i class="fas fa-check" style="margin-right: 8px;"></i>\n          Înțeles!\n        </button>\n      ',t.querySelector(".popup-close-btn").addEventListener("click",closePopup),e.addEventListener("click",t=>t.target===e&&closePopup()),document.addEventListener("keydown",function escHandler(e){"Escape"===e.key&&(closePopup(),document.removeEventListener("keydown",escHandler))}),e.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1",t.style.transform="scale(1) translateY(0)"},10)}()})})}f=!0},2e3);const q=document.querySelector(".mystery-box");q&&q.addEventListener("click",function(){const e=this.querySelector(".box-content i"),t=["fa-question","fa-eye","fa-mask","fa-star","fa-magic"],o=t[Math.floor(Math.random()*t.length)];e.className=`fas ${o}`;const n=document.createElement("div");n.style.cssText="\n          position: absolute; border-radius: 50%; background: rgba(139, 92, 246, 0.3);\n          transform: scale(0); animation: ripple 0.6s linear; left: 50%; top: 50%;\n          width: 20px; height: 20px; margin-left: -10px; margin-top: -10px;\n        ",this.appendChild(n),setTimeout(()=>n.remove(),600)}),e&&e.addEventListener("error",e=>{console.error("Video error:",e)})}catch(P){console.error("Script error:",P)}});