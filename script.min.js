document.addEventListener("DOMContentLoaded",function(){try{const e=document.getElementById("phone-video"),t=document.querySelector(".nav-toggle"),o=document.querySelector(".hero-buttons"),n=document.querySelector(".nav-menu"),s=document.querySelectorAll(".nav-link");let r=!1,i=!1,a=!1;function detectMobileMode(){const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t="ontouchstart"in window||navigator.maxTouchPoints>0,o=window.innerWidth,n=o<=1024||t&&o<=768;return console.log("üîç Dynamic Mobile Detection:",{isMobile:e,isTouch:t,screenWidth:o,forceMobile:n,userAgent:navigator.userAgent,maxTouchPoints:navigator.maxTouchPoints,currentMobileMode:r,windowHeight:window.innerHeight}),n}const l=document.querySelectorAll("section, footer");let c=!1,d=0,p=!1,u=null,m=0,f=0;const y=30,g=500,h=800;let b=0;function createSectionsWrapper(){if(u)return u;u=document.createElement("div"),u.className="sections-wrapper",u.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        will-change: transform;\n        transform: translateY(0px);\n      ";const e=document.body,t=document.querySelector(".navbar");return Array.from(l).forEach(e=>{u.appendChild(e)}),t&&t.nextSibling?e.insertBefore(u,t.nextSibling):e.appendChild(u),console.log("‚úÖ Sections wrapper created during initialization"),u}function updateIndicators(){document.querySelectorAll(".section-indicator").forEach((e,t)=>{t===d?(e.style.backgroundColor="rgba(139, 92, 246, 1)",e.style.transform="scale(1.2)"):(e.style.backgroundColor="rgba(139, 92, 246, 0.3)",e.style.transform="scale(1)")})}function scrollToSection(e){if(console.log("üîç ScrollToSection called with:",{index:e,sectionsLength:l.length,isScrolling:c,indexValid:e>=0&&e<l.length,conditionMet:e>=0&&e<l.length&&!c}),e>=0&&e<l.length&&!c){c=!0,d=e,updateIndicators();const t=l[e];console.log("üñ•Ô∏è Desktop scroll to section:",{index:e,sectionId:t.id,currentScroll:window.pageYOffset}),u||(u=createSectionsWrapper());const o=-(e*window.innerHeight);u.style.transform=`translateY(${o}px)`,console.log("‚úÖ Desktop scroll completed with transform:",{targetIndex:e,translateY:o,transform:u.style.transform}),setTimeout(()=>{c=!1},800)}else console.log("‚ùå ScrollToSection blocked:",{reason:e<0?"index too low":e>=l.length?"index too high":c?"already scrolling":"unknown",index:e,sectionsLength:l.length,isScrolling:c})}function scrollToSectionMobile(e){if(e>=0&&e<l.length&&!c){c=!0,d=e,updateIndicators();const t=l[e],o=window.innerHeight,n=e*o;console.log("üì± Mobile scroll to section:",{index:e,sectionId:t.id,viewportHeight:o,targetY:n,currentScroll:window.pageYOffset,calculatedDistance:n-window.pageYOffset}),u||(u=createSectionsWrapper());const s=-n;u.style.transform=`translateY(${s}px)`,setTimeout(()=>{c=!1,console.log("‚úÖ Mobile scroll completed with transform:",{targetIndex:e,translateY:s,transform:u.style.transform})},600)}}const touchStartHandler=function(e){e.target.closest(".phone-video")||e.target.closest(".popup-overlay")||(m=e.touches[0].clientY,f=Date.now(),console.log("üëÜ Touch start:",{y:m,time:f}))},touchEndHandler=function(e){if(e.target.closest(".phone-video")||e.target.closest(".popup-overlay"))return;if(c)return void console.log("‚è≥ Already scrolling, ignoring touch end");const t=e.changedTouches[0].clientY,o=Date.now(),n=Math.abs(m-t),s=o-f,r=o-b;if(console.log("üìä Touch end analysis:",{startY:m,endY:t,swipeDistance:n,swipeTime:s,timeSinceLastScroll:r,minDistance:y,maxTime:g,cooldown:h}),n>y&&s<g&&r>h){b=o;const e=m>t?"down":"up",n="down"===e?d+1:d-1;console.log("‚ú® Valid swipe detected:",{direction:e,currentIndex:d,targetIndex:n,sectionsLength:l.length}),scrollToSectionMobile(n)}else console.log("‚ùå Swipe rejected:",{reason:n<=y?"distance too small":s>=g?"took too long":r<=h?"too soon after last scroll":"unknown"})},touchMoveHandler=function(e){e.target.closest(".phone-video")||e.target.closest(".popup-overlay")||e.preventDefault()},wheelHandler=function(e){e.preventDefault()};let v;function initializeMobileMode(){i||(console.log("üî• INITIALIZING MOBILE SCROLL BEHAVIOR"),u||createSectionsWrapper(),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.addEventListener("touchstart",touchStartHandler,{passive:!0}),document.addEventListener("touchend",touchEndHandler,{passive:!0}),document.addEventListener("touchmove",touchMoveHandler,{passive:!1}),document.addEventListener("wheel",wheelHandler,{passive:!1}),i=!0,a&&removeDesktopEventListeners())}function initializeDesktopMode(){if(a)return;console.log("üñ•Ô∏è INITIALIZING DESKTOP SCROLL BEHAVIOR"),u||createSectionsWrapper(),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden";let e=0;v=t=>{const o=Date.now();if(c)return console.log("‚è≥ Desktop wheel blocked - already scrolling"),t.preventDefault(),t.stopPropagation(),!1;if(o-e<600)return console.log("‚è≥ Desktop wheel blocked - cooldown active:",{timeSinceLastScroll:o-e,cooldown:600}),t.preventDefault(),t.stopPropagation(),!1;const n=t.deltaY,s=Math.abs(n)<50,r=s?15:.5;if(console.log("üñ±Ô∏è Desktop wheel event:",{deltaY:n,isTrackpad:s,threshold:r,meetsThreshold:Math.abs(n)>r,isScrolling:c,timeSinceLastScroll:o-e,cooldown:600}),Math.abs(n)>r){e=o;const t=n>0?d+1:d-1;console.log("üî• Desktop scroll triggered:",{direction:n>0?"down":"up",currentSection:d,targetSection:t,sectionsLength:l.length,isScrolling:c,deviceType:s?"trackpad":"mouse"}),scrollToSection(n>0?d+1:d-1)}return t.preventDefault(),t.stopPropagation(),!1},window.addEventListener("wheel",v,{passive:!1,capture:!0}),document.addEventListener("wheel",v,{passive:!1,capture:!0}),a=!0,i&&removeMobileEventListeners()}function removeMobileEventListeners(){i&&(console.log("üîÑ REMOVING MOBILE EVENT LISTENERS"),document.removeEventListener("touchstart",touchStartHandler),document.removeEventListener("touchend",touchEndHandler),document.removeEventListener("touchmove",touchMoveHandler),document.removeEventListener("wheel",wheelHandler),i=!1)}function removeDesktopEventListeners(){a&&v&&(console.log("üîÑ REMOVING DESKTOP EVENT LISTENERS"),window.removeEventListener("wheel",v),document.removeEventListener("wheel",v),a=!1)}function updateScrollMode(){const e=detectMobileMode();e!==r&&(console.log(`üîÑ SWITCHING FROM ${r?"MOBILE":"DESKTOP"} TO ${e?"MOBILE":"DESKTOP"} MODE`),r=e,r?(removeDesktopEventListeners(),initializeMobileMode()):(removeMobileEventListeners(),initializeDesktopMode()))}r=detectMobileMode(),r?initializeMobileMode():initializeDesktopMode(),window.addEventListener("resize",()=>{setTimeout(updateScrollMode,100)}),setTimeout(()=>{!function(){const e=document.querySelectorAll(".text-reveal");if(e.length>0){let t=0;e.forEach((e,o)=>{const n=e.textContent;e.innerHTML="",e.classList.add("animate"),n.split("").map((e,o)=>{const n=document.createElement("span");return n.className="char",n.textContent=" "===e?"¬†":e,n.style.animationDelay=`${t+40*o}ms`,n}).forEach(t=>e.appendChild(t)),t+=40*n.length+200})}}()},400);const x=document.querySelector(".hero-subtitle");x&&(x.style.opacity="0",x.style.transform="translateY(30px)",x.style.transition="all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{x.style.opacity="1",x.style.transform="translateY(0)"},2200)),o&&(o.style.opacity="0",o.style.transform="translateY(30px)",o.style.transition="all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{o.style.opacity="1",o.style.transform="translateY(0)"},2600));const w=document.createElement("div");w.className="section-indicators",w.style.position="fixed",w.style.right="20px",w.style.top="50%",w.style.transform="translateY(-50%)",w.style.zIndex="1000",w.style.display="flex",w.style.flexDirection="column",w.style.gap="10px",w.style.opacity="0.3",w.style.transition="opacity 0.3s ease, transform 0.3s ease",w.style.transform="translateY(-50%) translateX(10px)";const E=window.matchMedia("(max-width: 768px)");function handleMediaQuery(e){e.matches?w.style.display="none":w.style.display="flex"}let S;handleMediaQuery(E),E.addListener(handleMediaQuery),l.forEach((e,t)=>{const o=document.createElement("div");o.className="section-indicator",o.style.width="10px",o.style.height="10px",o.style.borderRadius="50%",o.style.backgroundColor="rgba(139, 92, 246, 0.3)",o.style.cursor="pointer",o.style.transition="all 0.3s ease",o.setAttribute("data-section",e.id||`section-${t}`),o.addEventListener("click",()=>{if(!c){const e=detectMobileMode();console.log("üéØ Section indicator clicked:",t,"Mobile mode:",e),e?scrollToSectionMobile(t):scrollToSection(t)}}),w.appendChild(o)}),w.addEventListener("mouseenter",()=>{w.style.opacity="1",w.style.transform="translateY(-50%) translateX(0px)"}),w.addEventListener("mouseleave",()=>{w.style.opacity="0.3",w.style.transform="translateY(-50%) translateX(10px)"});let L,k=0;function showIndicatorsDuringScroll(){k=Date.now(),w.style.opacity="0.8",w.style.transform="translateY(-50%) translateX(0px)",clearTimeout(S),S=setTimeout(()=>{Date.now()-k>=1500&&(w.style.opacity="0.3",w.style.transform="translateY(-50%) translateX(10px)")},1500)}window.addEventListener("wheel",showIndicatorsDuringScroll,{passive:!0}),window.addEventListener("touchmove",showIndicatorsDuringScroll,{passive:!0}),document.body.appendChild(w),updateIndicators(),window.addEventListener("scroll",()=>{clearTimeout(L),L=setTimeout(()=>{if(!c){const e=window.scrollY,t=window.innerHeight;if(detectMobileMode()){const o=Math.round(e/t);o!==d&&o>=0&&o<l.length&&(d=o,updateIndicators())}else l.forEach((e,t)=>{const o=e.getBoundingClientRect();o.top>=-100&&o.top<=100&&(d=t,updateIndicators())})}},50)}),t.addEventListener("click",function(){n.classList.toggle("active");t.querySelectorAll(".bar").forEach(e=>e.classList.toggle("active"))}),s.forEach(e=>{e.addEventListener("click",function(){n.classList.remove("active");t.querySelectorAll(".bar").forEach(e=>e.classList.remove("active"))})}),s.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),o=document.querySelector(t);if(o){const e=detectMobileMode();console.log("üß≠ Nav link clicked:",t,"Mobile mode:",e);const n=Array.from(l).indexOf(o);console.log("üìç Target section index:",n),-1!==n&&(e?(console.log("üì± Using mobile scroll for navigation"),scrollToSectionMobile(n)):(console.log("üñ•Ô∏è Using desktop snap scroll for navigation"),scrollToSection(n)))}})});const M=document.querySelector(".navbar");window.addEventListener("scroll",function(){window.scrollY>50?M.style.background="rgba(15, 15, 15, 0.98)":M.style.background="rgba(15, 15, 15, 0.95)"});const T=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".feature-card, .about-text, .mystery-box").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",T.observe(e)}),window.addEventListener("scroll",function(){const e=window.pageYOffset,t=document.querySelector(".hero"),o=.5*e;t&&(t.style.transform=`translateY(${o}px)`)});document.querySelectorAll(".card").forEach((e,t)=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-15px) scale(1.05)",this.style.zIndex="10"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0) scale(1)",this.style.zIndex="1"})});function showDownloadPopup(){document.querySelectorAll(".popup-overlay").forEach(e=>e.remove());const e=document.createElement("div");e.className="popup-overlay",e.style.cssText="\n        position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n        background-color: rgba(0, 0, 0, 0.8); z-index: 10000;\n        display: flex; align-items: center; justify-content: center;\n        backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.3s ease;\n      ";const t=document.createElement("div");function closePopup(){e.style.opacity="0",t.style.transform="scale(0.8) translateY(20px)",setTimeout(()=>document.body.removeChild(e),300)}t.className="popup-content",t.style.cssText="\n        background: linear-gradient(145deg, #1a1a1a, rgba(26, 26, 26, 0.95));\n        border: 1px solid #6b46c1; border-radius: 25px; padding: 40px 30px;\n        text-align: center; max-width: 400px; width: 90%;\n        box-shadow: 0 20px 60px rgba(139, 92, 246, 0.4);\n        transform: scale(0.8) translateY(20px);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      ",t.innerHTML='\n        <div style="margin-bottom: 25px;">\n          <i class="fas fa-rocket" style="font-size: 3rem; color: #6b46c1; margin-bottom: 20px; display: block;"></i>\n          <h3 style="color: #ffffff; margin-bottom: 15px; font-size: 1.5rem; font-weight: 600;">Aplica»õia nu este √ÆncƒÉ lansatƒÉ</h3>\n          <p style="color: #b3b3b3; font-size: 1.1rem; line-height: 1.6; margin-bottom: 25px;">Fii pe fazƒÉ, ne vom vedea cur√¢nd!</p>\n        </div>\n        <button class="popup-close-btn" style="\n          background: linear-gradient(135deg, #6b46c1, #7c3aed); color: white; border: none;\n          border-radius: 15px; padding: 12px 30px; font-size: 1rem; font-weight: 600;\n          cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);\n        ">\n          <i class="fas fa-check" style="margin-right: 8px;"></i>\n          √én»õeles!\n        </button>\n      ',t.querySelector(".popup-close-btn").addEventListener("click",closePopup),e.addEventListener("click",t=>t.target===e&&closePopup()),document.addEventListener("keydown",function escHandler(e){"Escape"===e.key&&(closePopup(),document.removeEventListener("keydown",escHandler))}),e.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1",t.style.transform="scale(1) translateY(0)"},10)}document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-2px)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)"})}),setTimeout(function(){if(p)return;const e=document.querySelector(".hero-buttons");if(e){const t=e.querySelectorAll("button");t.length>=2&&(t[0].addEventListener("click",e=>{e.preventDefault(),function(){document.querySelectorAll(".popup-overlay").forEach(e=>e.remove());const e=document.createElement("div");e.className="popup-overlay",e.style.cssText="\n        position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n        background-color: rgba(0, 0, 0, 0.8); z-index: 10000;\n        display: flex; align-items: center; justify-content: center;\n        backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.3s ease;\n      ";const t=document.createElement("div");function closePopup(){e.style.opacity="0",t.style.transform="scale(0.8) translateY(20px)",setTimeout(()=>document.body.removeChild(e),300)}t.className="popup-content",t.style.cssText="\n        background: linear-gradient(145deg, #1a1a1a, rgba(26, 26, 26, 0.95));\n        border: 1px solid #6b46c1; border-radius: 25px; padding: 40px 30px;\n        text-align: center; max-width: 400px; width: 90%;\n        box-shadow: 0 20px 60px rgba(139, 92, 246, 0.4);\n        transform: scale(0.8) translateY(20px);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      ",t.innerHTML='\n        <div style="margin-bottom: 25px;">\n          <i class="fas fa-wrench" style="font-size: 3rem; color: #6b46c1; margin-bottom: 20px; display: block;"></i>\n          <h3 style="color: #ffffff; margin-bottom: 15px; font-size: 1.5rem; font-weight: 600;">Func»õionalitate √Æn dezvoltare</h3>\n          <p style="color: #b3b3b3; font-size: 1.1rem; line-height: 1.6; margin-bottom: 25px;">AceastƒÉ func»õionalitate este √ÆncƒÉ √Æn dezvoltare</p>\n        </div>\n        <button class="popup-close-btn" style="\n          background: linear-gradient(135deg, #6b46c1, #7c3aed); color: white; border: none;\n          border-radius: 15px; padding: 12px 30px; font-size: 1rem; font-weight: 600;\n          cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);\n        ">\n          <i class="fas fa-check" style="margin-right: 8px;"></i>\n          √én»õeles!\n        </button>\n      ',t.querySelector(".popup-close-btn").addEventListener("click",closePopup),e.addEventListener("click",t=>t.target===e&&closePopup()),document.addEventListener("keydown",function escHandler(e){"Escape"===e.key&&(closePopup(),document.removeEventListener("keydown",escHandler))}),e.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1",t.style.transform="scale(1) translateY(0)"},10)}()}),t[1].addEventListener("click",e=>{e.preventDefault(),showDownloadPopup()}))}const t=document.querySelector(".cta");if(t){const e=t.querySelector(".cta-buttons");e&&e.querySelectorAll("button").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.textContent.trim().toLowerCase();o.includes("descarcƒÉ")||o.includes("download")?showDownloadPopup():(o.includes("acces")||o.includes("anticipat"))&&function(){document.querySelectorAll(".popup-overlay").forEach(e=>e.remove());const e=document.createElement("div");e.className="popup-overlay",e.style.cssText="\n        position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n        background-color: rgba(0, 0, 0, 0.8); z-index: 10000;\n        display: flex; align-items: center; justify-content: center;\n        backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.3s ease;\n      ";const t=document.createElement("div");function closePopup(){e.style.opacity="0",t.style.transform="scale(0.8) translateY(20px)",setTimeout(()=>document.body.removeChild(e),300)}t.className="popup-content",t.style.cssText="\n        background: linear-gradient(145deg, #1a1a1a, rgba(26, 26, 26, 0.95));\n        border: 1px solid #6b46c1; border-radius: 25px; padding: 40px 30px;\n        text-align: center; max-width: 400px; width: 90%;\n        box-shadow: 0 20px 60px rgba(139, 92, 246, 0.4);\n        transform: scale(0.8) translateY(20px);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      ",t.innerHTML='\n        <div style="margin-bottom: 25px;">\n          <i class="fas fa-clock" style="font-size: 3rem; color: #6b46c1; margin-bottom: 20px; display: block;"></i>\n          <h3 style="color: #ffffff; margin-bottom: 15px; font-size: 1.5rem; font-weight: 600;">Aplica»õia nu este √ÆncƒÉ lansatƒÉ</h3>\n          <p style="color: #b3b3b3; font-size: 1.1rem; line-height: 1.6; margin-bottom: 25px;">Fii pe fazƒÉ, ne vom vedea cur√¢nd!</p>\n        </div>\n        <button class="popup-close-btn" style="\n          background: linear-gradient(135deg, #6b46c1, #7c3aed); color: white; border: none;\n          border-radius: 15px; padding: 12px 30px; font-size: 1rem; font-weight: 600;\n          cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);\n        ">\n          <i class="fas fa-check" style="margin-right: 8px;"></i>\n          √én»õeles!\n        </button>\n      ',t.querySelector(".popup-close-btn").addEventListener("click",closePopup),e.addEventListener("click",t=>t.target===e&&closePopup()),document.addEventListener("keydown",function escHandler(e){"Escape"===e.key&&(closePopup(),document.removeEventListener("keydown",escHandler))}),e.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1",t.style.transform="scale(1) translateY(0)"},10)}()})})}p=!0},2e3);const D=document.querySelector(".mystery-box");D&&D.addEventListener("click",function(){const e=this.querySelector(".box-content i"),t=["fa-question","fa-eye","fa-mask","fa-star","fa-magic"],o=t[Math.floor(Math.random()*t.length)];e.className=`fas ${o}`;const n=document.createElement("div");n.style.cssText="\n          position: absolute; border-radius: 50%; background: rgba(139, 92, 246, 0.3);\n          transform: scale(0); animation: ripple 0.6s linear; left: 50%; top: 50%;\n          width: 20px; height: 20px; margin-left: -10px; margin-top: -10px;\n        ",this.appendChild(n),setTimeout(()=>n.remove(),600)}),e&&e.addEventListener("error",e=>{console.error("Video error:",e)})}catch(I){console.error("Script error:",I)}});