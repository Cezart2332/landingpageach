document.addEventListener("DOMContentLoaded",()=>{(()=>{try{const e=localStorage.getItem("ac_debug");return null===e||("1"===e||"true"===e||"on"===e)}catch{return!0}})();document.querySelectorAll(".faq-item").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("open")})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const o=e.getAttribute("href");if(o&&o.startsWith("#")&&o.length>1){const e=document.querySelector(o);e&&(t.preventDefault(),window.scrollTo({top:e.offsetTop-80,behavior:"smooth"}))}})});const e=Array.from(document.querySelectorAll(".feature-card, .step, .plan, .faq-item, .stat-card"));function showEl(e){e.classList.add("reveal-visible");const t=e.dataset.revealDelay||"0";e.style.transitionDelay=`${Math.min(Number(t),600)}ms`,e.classList.remove("reveal-init")}if(e.forEach((e,t)=>{e.classList.add("reveal-init"),e.dataset.revealDelay=(60*t).toString()}),"IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(showEl(e.target),t.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>t.observe(e));const o=window.innerHeight;e.forEach(e=>{e.getBoundingClientRect().top<.92*o&&(showEl(e),t.unobserve(e))})}else e.forEach(showEl);setTimeout(()=>{e.forEach(e=>{e.classList.contains("reveal-visible")||showEl(e)})},3e3);try{const e=document.querySelector('.biz-menu a[href="business-auth.html"], .biz-menu a.biz-cta-btn');e&&e.addEventListener("click",async e=>{try{if(!window.SecureApiService)return;const t={},o={};try{for(let e=0;e<sessionStorage.length;e++){const o=sessionStorage.key(e);o&&(t[o]=sessionStorage.getItem(o))}}catch{}try{for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&(o[t]=localStorage.getItem(t))}}catch{}const r=await window.SecureApiService.isAuthenticated();r&&(e.preventDefault(),window.location.href="business-dashboard.html")}catch(e){}},{capture:!0})}catch(e){}});